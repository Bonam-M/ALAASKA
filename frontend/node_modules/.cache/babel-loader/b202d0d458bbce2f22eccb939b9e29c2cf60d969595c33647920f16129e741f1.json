{"ast":null,"code":"var _jsxFileName = \"/Users/bonam/Documents/alaaska/alaaska_app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { marked } from \"marked\";\nimport DOMPurify from \"dompurify\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport logo from './assets/alaaska_logo.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = \"http://localhost:8000\"; // Make sure this matches your backend URL\n\nfunction App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [chatId, setChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [userInput, setUserInput] = useState(\"\");\n  const [conversations, setConversations] = useState([]);\n  const [view, setView] = useState(\"login\"); // \"login\" or \"register\" or \"chat\"\n  const [username, setUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showLogout, setShowLogout] = useState(false);\n  const [isSidebarVisible, setIsSidebarVisible] = useState(true);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const inputRef = useRef(null);\n\n  // Track window width to toggle responsive layout\n  useEffect(() => {\n    function handleResize() {\n      setWindowWidth(window.innerWidth);\n      if (window.innerWidth <= 768) {\n        setIsSidebarVisible(false);\n      } else {\n        setIsSidebarVisible(true);\n      }\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  useEffect(() => {\n    if (token) {\n      localStorage.setItem(\"token\", token);\n      axios.get(`${BACKEND_URL}/conversations`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => setConversations(res.data)).catch(() => {\n        setView(\"login\");\n      });\n    }\n  }, [token]);\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.style.height = \"auto\";\n      inputRef.current.style.height = inputRef.current.scrollHeight + \"px\";\n    }\n  }, [userInput]);\n  const sendMessage = () => {\n    if (!userInput.trim()) return;\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n    setIsLoading(true);\n    axios.post(`${BACKEND_URL}/chat`, {\n      message: userInput,\n      chat_id: chatId\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setMessages(prevMessages => {\n        const historyFromServer = res.data.history;\n        const newMessages = historyFromServer.slice(-2); // user + assistant\n        return [...prevMessages, ...newMessages];\n      });\n      setChatId(res.data.chat_id);\n      setUserInput(\"\");\n    }).catch(err => {\n      var _err$response;\n      console.error(\"Error sending message:\", err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n        alert(\"Session expired or unauthorized. Please log in again.\");\n        localStorage.removeItem(\"token\");\n        setToken(\"\");\n        setView(\"login\");\n      } else {\n        alert(\"Failed to send message.\");\n      }\n    }).finally(() => setIsLoading(false));\n  };\n  const startNewChat = () => {\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n    axios.post(`${BACKEND_URL}/chat/start`, {}, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setChatId(res.data.chat_id);\n      setUserInput(\"\");\n      setMessages([{\n        role: \"assistant\",\n        content: \"Hi! Welcome to ALAASKA. How can I help you today?\"\n      }]);\n    }).catch(err => {\n      console.error(\"Error starting new chat:\", err);\n      alert(\"Failed to start a new chat.\");\n    });\n  };\n  const loadConversation = id => {\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n    axios.get(`${BACKEND_URL}/conversation/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setMessages(res.data);\n      setChatId(id);\n    }).catch(err => {\n      console.error(\"Error loading conversation:\", err);\n      alert(\"Failed to load conversation.\");\n    });\n  };\n  const deleteConversation = idToDelete => {\n    const confirmed = window.confirm(\"Are you sure you want to delete this conversation?\");\n    if (!confirmed) return;\n    axios.delete(`${BACKEND_URL}/conversation/${idToDelete}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      if (chatId === idToDelete) {\n        setMessages([]);\n        setChatId(null);\n      }\n      setConversations(conversations.filter(item => item.chat_id !== idToDelete));\n    }).catch(err => {\n      console.error(\"Error deleting conversation:\", err);\n      alert(\"Failed to delete the conversation.\");\n    });\n  };\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: view === \"login\" ? /*#__PURE__*/_jsxDEV(Login, {\n        setToken: setToken,\n        setView: setView,\n        setUsername: setUsername\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Register, {\n        setView: setView\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-wrapper\",\n      style: {\n        flexDirection: windowWidth <= 768 ? \"column\" : \"row\"\n      },\n      children: [windowWidth <= 768 && /*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": isSidebarVisible ? \"Hide sidebar\" : \"Show sidebar\",\n        onClick: () => setIsSidebarVisible(!isSidebarVisible),\n        style: {\n          position: \"fixed\",\n          top: \"10px\",\n          left: \"10px\",\n          zIndex: 200,\n          backgroundColor: \"lightseagreen\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"4px\",\n          padding: \"8px 12px\",\n          cursor: \"pointer\"\n        },\n        children: isSidebarVisible ? \"Close Menu\" : \"Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), isSidebarVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"Logo\",\n              className: \"sidebar-logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sidebar-title\",\n              children: \"ALAASKA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-chat-button\",\n            onClick: startNewChat,\n            title: \"Start new chat\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"24\",\n              height: \"24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.8\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              viewBox: \"0 0 24 24\",\n              \"aria-hidden\": \"true\",\n              focusable: \"false\",\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"3\",\n                y: \"4\",\n                width: \"14\",\n                height: \"16\",\n                rx: \"2\",\n                ry: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M17 7l-5 5-1 3 3-1 6-6-3-3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), \" \", \"New Chat\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"chat-title\",\n          children: \"Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), conversations.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No chats yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 44\n        }, this), conversations.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"conversation-button\",\n            onClick: () => loadConversation(c.chat_id),\n            style: {\n              flex: 1,\n              marginRight: \"0.5rem\"\n            },\n            title: c.summary,\n            children: c.summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button delete-button\",\n            onClick: () => deleteConversation(c.chat_id),\n            title: \"Delete conversation\",\n            \"aria-label\": \"Delete conversation\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              fill: \"grey\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M3 6h18v2H3V6zm2 3h14l-1.5 13h-11L5 9zm5 2v9h2v-9H10zm4 0v9h2v-9h-2zM9 4V2h6v2h5v2H4V4h5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this)]\n        }, c.chat_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"top-bar-title\",\n            children: \"Personalized instruction through Microlearning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"relative\",\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"0.5rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: \"lightseagreen\",\n                color: \"white\",\n                borderRadius: \"50%\",\n                width: \"32px\",\n                height: \"32px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                fontWeight: \"bold\",\n                fontSize: \"14px\",\n                textTransform: \"uppercase\",\n                cursor: \"pointer\"\n              },\n              title: username,\n              onClick: () => setShowLogout(!showLogout),\n              children: username.slice(0, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"black\",\n                fontWeight: \"500\"\n              },\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), showLogout && /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                position: \"absolute\",\n                top: \"40px\",\n                right: 0,\n                backgroundColor: \"whitesmoke\",\n                color: \"darkslategrey\",\n                border: \"black\",\n                padding: \"0.4rem 0.8rem\",\n                borderRadius: \"4px\",\n                zIndex: 10\n              },\n              onClick: () => {\n                localStorage.removeItem(\"token\");\n                setToken(\"\");\n                setUsername(\"\");\n                setView(\"login\");\n              },\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chatbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"messages\",\n                children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `message ${msg.role === \"user\" ? \"user-message\" : \"assistant-message\"}`,\n                  children: msg.role === \"assistant\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    dangerouslySetInnerHTML: {\n                      __html: DOMPurify.sanitize(marked.parse(msg.content || \"\"))\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 25\n                  }, this) : msg.content\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message assistant-message\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"Assistant is typing...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  ref: inputRef,\n                  placeholder: \"Ask something...\",\n                  value: userInput,\n                  onChange: e => setUserInput(e.target.value),\n                  onKeyDown: e => {\n                    if (e.key === \"Enter\" && !e.shiftKey) {\n                      e.preventDefault();\n                      sendMessage();\n                    }\n                  },\n                  rows: 3,\n                  maxLength: 1000,\n                  \"aria-label\": \"Type your message\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"send-button\",\n                  onClick: sendMessage,\n                  title: \"Send\",\n                  \"aria-label\": \"Send message\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"20\",\n                    height: \"20\",\n                    fill: \"currentColor\",\n                    viewBox: \"0 0 16 16\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M15.854.146a.5.5 0 0 1 .11.54l-6 14a.5.5 0 0 1-.948-.032l-2-6-6-2a.5.5 0 0 1 .032-.948l14-6a.5.5 0 0 1 .806.44zM6.832 8.065l1.476 4.427 4.318-10.078L6.832 8.065z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer\",\n          children: \"ALAASKA: Adaptive Learning for All through AI-Powered Student Knowledge Assessment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(App, \"pFQ01sONzYWpK7Fc/0wcsqTXmZY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","marked","DOMPurify","Login","Register","logo","jsxDEV","_jsxDEV","Fragment","_Fragment","BACKEND_URL","App","_s","token","setToken","localStorage","getItem","chatId","setChatId","messages","setMessages","userInput","setUserInput","conversations","setConversations","view","setView","username","setUsername","isLoading","setIsLoading","showLogout","setShowLogout","isSidebarVisible","setIsSidebarVisible","windowWidth","setWindowWidth","window","innerWidth","inputRef","handleResize","addEventListener","removeEventListener","setItem","get","headers","Authorization","then","res","data","catch","current","style","height","scrollHeight","sendMessage","trim","alert","post","message","chat_id","prevMessages","historyFromServer","history","newMessages","slice","err","_err$response","console","error","response","status","removeItem","finally","startNewChat","role","content","loadConversation","id","deleteConversation","idToDelete","confirmed","confirm","delete","filter","item","className","children","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","onClick","position","top","left","zIndex","backgroundColor","color","border","borderRadius","padding","cursor","src","alt","title","xmlns","width","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","viewBox","focusable","x","y","rx","ry","d","length","map","c","display","alignItems","justifyContent","flex","marginRight","summary","gap","fontWeight","fontSize","textTransform","right","msg","i","dangerouslySetInnerHTML","__html","sanitize","parse","ref","placeholder","value","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","rows","maxLength","_c","$RefreshReg$"],"sources":["/Users/bonam/Documents/alaaska/alaaska_app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { marked } from \"marked\";\nimport DOMPurify from \"dompurify\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport logo from './assets/alaaska_logo.png';\n\nconst BACKEND_URL = \"http://localhost:8000\"; // Make sure this matches your backend URL\n\nfunction App() {\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [chatId, setChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [userInput, setUserInput] = useState(\"\");\n  const [conversations, setConversations] = useState([]);\n  const [view, setView] = useState(\"login\"); // \"login\" or \"register\" or \"chat\"\n  const [username, setUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showLogout, setShowLogout] = useState(false);\n  const [isSidebarVisible, setIsSidebarVisible] = useState(true);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  const inputRef = useRef(null);\n\n  // Track window width to toggle responsive layout\n  useEffect(() => {\n    function handleResize() {\n      setWindowWidth(window.innerWidth);\n      if (window.innerWidth <= 768) {\n        setIsSidebarVisible(false);\n      } else {\n        setIsSidebarVisible(true);\n      }\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      localStorage.setItem(\"token\", token);\n\n      axios\n        .get(`${BACKEND_URL}/conversations`, {\n          headers: { Authorization: `Bearer ${token}` },\n        })\n        .then((res) => setConversations(res.data))\n        .catch(() => {\n          setView(\"login\");\n        });\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.style.height = \"auto\";\n      inputRef.current.style.height = inputRef.current.scrollHeight + \"px\";\n    }\n  }, [userInput]);\n\n  const sendMessage = () => {\n    if (!userInput.trim()) return;\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n\n    setIsLoading(true);\n\n    axios\n      .post(\n        `${BACKEND_URL}/chat`,\n        { message: userInput, chat_id: chatId },\n        { headers: { Authorization: `Bearer ${token}` } }\n      )\n      .then((res) => {\n        setMessages((prevMessages) => {\n          const historyFromServer = res.data.history;\n          const newMessages = historyFromServer.slice(-2); // user + assistant\n          return [...prevMessages, ...newMessages];\n        });\n\n        setChatId(res.data.chat_id);\n        setUserInput(\"\");\n      })\n      .catch((err) => {\n        console.error(\"Error sending message:\", err);\n        if (err.response?.status === 401) {\n          alert(\"Session expired or unauthorized. Please log in again.\");\n          localStorage.removeItem(\"token\");\n          setToken(\"\");\n          setView(\"login\");\n        } else {\n          alert(\"Failed to send message.\");\n        }\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const startNewChat = () => {\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n\n    axios\n      .post(\n        `${BACKEND_URL}/chat/start`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      )\n      .then((res) => {\n        setChatId(res.data.chat_id);\n        setUserInput(\"\");\n        setMessages([\n          {\n            role: \"assistant\",\n            content: \"Hi! Welcome to ALAASKA. How can I help you today?\",\n          },\n        ]);\n      })\n      .catch((err) => {\n        console.error(\"Error starting new chat:\", err);\n        alert(\"Failed to start a new chat.\");\n      });\n  };\n\n  const loadConversation = (id) => {\n    if (!token) {\n      alert(\"Please login first.\");\n      return;\n    }\n\n    axios\n      .get(`${BACKEND_URL}/conversation/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((res) => {\n        setMessages(res.data);\n        setChatId(id);\n      })\n      .catch((err) => {\n        console.error(\"Error loading conversation:\", err);\n        alert(\"Failed to load conversation.\");\n      });\n  };\n\n  const deleteConversation = (idToDelete) => {\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this conversation?\"\n    );\n    if (!confirmed) return;\n\n    axios\n      .delete(`${BACKEND_URL}/conversation/${idToDelete}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(() => {\n        if (chatId === idToDelete) {\n          setMessages([]);\n          setChatId(null);\n        }\n        setConversations(\n          conversations.filter((item) => item.chat_id !== idToDelete)\n        );\n      })\n      .catch((err) => {\n        console.error(\"Error deleting conversation:\", err);\n        alert(\"Failed to delete the conversation.\");\n      });\n  };\n\n  if (!token) {\n    return (\n      <div className=\"auth-container\">\n        {view === \"login\" ? (\n          <Login setToken={setToken} setView={setView} setUsername={setUsername} />\n        ) : (\n          <Register setView={setView} />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div\n        className=\"app-wrapper\"\n        style={{\n          flexDirection: windowWidth <= 768 ? \"column\" : \"row\",\n        }}\n      >\n        {/* Hamburger toggle button on mobile/tablet */}\n        {windowWidth <= 768 && (\n          <button\n            aria-label={isSidebarVisible ? \"Hide sidebar\" : \"Show sidebar\"}\n            onClick={() => setIsSidebarVisible(!isSidebarVisible)}\n            style={{\n              position: \"fixed\",\n              top: \"10px\",\n              left: \"10px\",\n              zIndex: 200,\n              backgroundColor: \"lightseagreen\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              padding: \"8px 12px\",\n              cursor: \"pointer\",\n            }}\n          >\n            {isSidebarVisible ? \"Close Menu\" : \"Menu\"}\n          </button>\n        )}\n\n        {/* Sidebar stays full height or toggled */}\n        {isSidebarVisible && (\n          <div className=\"sidebar\">\n            <div className=\"sidebar-top\">\n            <div className=\"sidebar-header\">\n              <img src={logo} alt=\"Logo\" className=\"sidebar-logo\" />\n              <span className=\"sidebar-title\">ALAASKA</span>\n            </div>\n            <button\n              className=\"new-chat-button\"\n              onClick={startNewChat}\n              title=\"Start new chat\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.8\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                viewBox=\"0 0 24 24\"\n                aria-hidden=\"true\"\n                focusable=\"false\"\n              >\n                <rect x=\"3\" y=\"4\" width=\"14\" height=\"16\" rx=\"2\" ry=\"2\" />\n                <path d=\"M17 7l-5 5-1 3 3-1 6-6-3-3z\" />\n              </svg>{\" \"}\n              New Chat\n            </button>\n            </div>\n\n            <h4 className=\"chat-title\">Chats</h4>\n            {conversations.length === 0 && <p>No chats yet.</p>}\n            {conversations.map((c) => (\n              <div\n                key={c.chat_id}\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <button\n                  className=\"conversation-button\"\n                  onClick={() => loadConversation(c.chat_id)}\n                  style={{ flex: 1, marginRight: \"0.5rem\" }}\n                  title={c.summary}\n                >\n                  {c.summary}\n                </button>\n                <button\n                  className=\"icon-button delete-button\"\n                  onClick={() => deleteConversation(c.chat_id)}\n                  title=\"Delete conversation\"\n                  aria-label=\"Delete conversation\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"grey\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path d=\"M3 6h18v2H3V6zm2 3h14l-1.5 13h-11L5 9zm5 2v9h2v-9H10zm4 0v9h2v-9h-2zM9 4V2h6v2h5v2H4V4h5z\" />\n                  </svg>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Right side of app: top bar + main content + footer */}\n        <div className=\"content-area\">\n          <div className=\"top-bar\">\n            <h1 className=\"top-bar-title\">\n              Personalized instruction through Microlearning\n            </h1>\n            <div\n              style={{\n                position: \"relative\",\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"0.5rem\",\n              }}\n            >\n              <div\n                style={{\n                  backgroundColor: \"lightseagreen\",\n                  color: \"white\",\n                  borderRadius: \"50%\",\n                  width: \"32px\",\n                  height: \"32px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  fontWeight: \"bold\",\n                  fontSize: \"14px\",\n                  textTransform: \"uppercase\",\n                  cursor: \"pointer\",\n                }}\n                title={username}\n                onClick={() => setShowLogout(!showLogout)}\n              >\n                {username.slice(0, 2)}\n              </div>\n              <span style={{ color: \"black\", fontWeight: \"500\" }}>{username}</span>\n              {showLogout && (\n                <button\n                  style={{\n                    position: \"absolute\",\n                    top: \"40px\",\n                    right: 0,\n                    backgroundColor: \"whitesmoke\",\n                    color: \"darkslategrey\",\n                    border: \"black\",\n                    padding: \"0.4rem 0.8rem\",\n                    borderRadius: \"4px\",\n                    zIndex: 10,\n                  }}\n                  onClick={() => {\n                    localStorage.removeItem(\"token\");\n                    setToken(\"\");\n                    setUsername(\"\");\n                    setView(\"login\");\n                  }}\n                >\n                  Logout\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"container\">\n            <div className=\"main\">\n              <div className=\"chatbox\">\n                <div className=\"messages\">\n                  {messages.map((msg, i) => (\n                    <div\n                      key={i}\n                      className={`message ${\n                        msg.role === \"user\" ? \"user-message\" : \"assistant-message\"\n                      }`}\n                    >\n                      {msg.role === \"assistant\" ? (\n                        <div\n                          dangerouslySetInnerHTML={{\n                            __html: DOMPurify.sanitize(marked.parse(msg.content || \"\")),\n                          }}\n                        />\n                      ) : (\n                        msg.content\n                      )}\n                    </div>\n                  ))}\n                  {isLoading && (\n                    <div className=\"message assistant-message\">\n                      <em>Assistant is typing...</em>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"input-container\">\n                  <textarea\n                    ref={inputRef}\n                    placeholder=\"Ask something...\"\n                    value={userInput}\n                    onChange={(e) => setUserInput(e.target.value)}\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\" && !e.shiftKey) {\n                        e.preventDefault();\n                        sendMessage();\n                      }\n                    }}\n                    rows={3}\n                    maxLength={1000}\n                    aria-label=\"Type your message\"\n                  />\n                  <button\n                    className=\"send-button\"\n                    onClick={sendMessage}\n                    title=\"Send\"\n                    aria-label=\"Send message\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20\"\n                      height=\"20\"\n                      fill=\"currentColor\"\n                      viewBox=\"0 0 16 16\"\n                    >\n                      <path d=\"M15.854.146a.5.5 0 0 1 .11.54l-6 14a.5.5 0 0 1-.948-.032l-2-6-6-2a.5.5 0 0 1 .032-.948l14-6a.5.5 0 0 1 .806.44zM6.832 8.065l1.476 4.427 4.318-10.078L6.832 8.065z\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"footer\">\n            ALAASKA: Adaptive Learning for All through AI-Powered Student Knowledge\n            Assessment.\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}